<!-- src/app/pages/quiz-play/quiz-play.page.html -->
<ng-container *ngIf="quiz() as q">
  <mat-card class="play-card">
    <mat-card-header>
      <mat-card-title>{{ q.title }}</mat-card-title>
      <mat-card-subtitle>Soru {{ idx()+1 }} / {{ q.questions?.length }}</mat-card-subtitle>
    </mat-card-header>

    <mat-progress-bar mode="determinate" [value]="progress()"></mat-progress-bar>

    <mat-card-content *ngIf="currentQuestion() as cq">
      <h3 class="question">{{ cq.text }}</h3>

      <div class="options">
        <button
          mat-stroked-button
          class="opt-btn"
          *ngFor="let opt of cq.options"
          [color]="selectedOptionId() === opt.id ? 'primary' : undefined"
          (click)="choose(opt.id)">
          {{ opt.text }}
        </button>
      </div>
    </mat-card-content>

    <mat-card-actions align="end">
      <button mat-raised-button color="primary" (click)="next()">
        {{ idx()+1 < (q.questions?.length || 0) ? 'Next' : 'Finish' }}
      </button>
    </mat-card-actions>
  </mat-card>
</ng-container>
